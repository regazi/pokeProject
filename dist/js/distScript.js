let pokemonRepository=function(){let i=$(".list-group"),j=[],b=$(".modal-body"),c=$(".modal-title");function d(a){"object"==typeof a&&"name"in a?j.push(a):console.log("Invalid or Incomplete Data for Pokemon")}function e(){return j}c.empty(),b.empty();let k=$("<div class='alert alert-light' style='text-align: center' role='alert'>Loading..  </div>"),l=$("<div class='alert alert-danger' style='text-align: center' role='alert'>Failed to Load Data, Please Try Again Later</div>");function f(a){return b.append(k),fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrlFront=b.sprites.front_default,a.imageUrlBack=b.sprites.back_default,a.height=b.height,a.types=[],a.abilities=[];for(let c=0;c<b.abilities.length;c++)a.abilities.push(b.abilities[c].ability.name);for(let d=0;d<b.types.length;d++)a.types.push(b.types[d].type.name)}).catch(function(a){console.error(a)})}let g=document.getElementById("validationCustom01"),h=document.querySelector("#search-bar");function a(){let a=pokemonRepository.getAll().filter(a=>a.name.toLowerCase().indexOf(g.value.toLowerCase())> -1);return a.length<1?($("#sub").addClass("btn btn-outline-danger my-2 my-sm-0"),g.classList.add("is-invalid")):($("#sub").removeClass("btn-outline-danger"),g.classList.remove("is-invalid")),m(),a}function m(){i.empty(),pokemonRepository.forEach(function(a){pokemonRepository.addListItem(a)})}return h.addEventListener("submit",b=>{b.preventDefault(),a(),g.value=""}),$("input").on("search",a),g.addEventListener("keyup",a),{add:d,getAll:e,addListItem:function(e){let a=$("<li class='list-group-item d-inline-block mx-auto' style=' border: none;'></li>"),d=$("<button type='button' class='btn btn-primary' data-toggle='modal' data-target='#exampleModal'>"+e.name+"</button>");a.append(d),i.append(a),d.on("click",function(){(function(a){f(a).then(function(){c.empty(),b.empty();let d=$("<div class='container-fluid d-flex justify-content-center'></div>"),e=$("<img class='modal-image'>");e.attr("src",a.imageUrlFront);let f=$("<img class='modal-image' width='95px' height='95'>");f.attr("src",a.imageUrlBack);let g=$("<h1>"+a.name+"</h1>"),h=$("<p class='d-flex justify-content-center h6'> Height </p><p class='d-flex justify-content-center'> "+a.height+"</p>"),i=$("<p class='d-flex justify-content-center h6'> Types: </p><p class='d-flex justify-content-center'>"+a.types+"</p>"),j=$("<p class='d-flex justify-content-center h6'> Abilities: </p><p class='d-flex justify-content-center'> "+a.abilities+"</p>");c.append(g),d.append(e),d.append(f),b.append(d),b.append(h),b.append(i),b.append(j),console.log(g)})})(e)})},loadList:function(){return i.append(k),fetch("https://pokeapi.co/api/v2/pokemon/?limit=600").then(function(a){return a.json()}).then(function(a){k.remove(),a.results.forEach(function(a){d({name:a.name,detailsUrl:a.url})})}).catch(function(a){i.append(l),console.error(a)})},loadDetails:f}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})